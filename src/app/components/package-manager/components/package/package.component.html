<div id="overview-block" *ngIf="(packageService.packages | async) as packageArray">
    <div class="row">
        <div class="col-md-12">
            <div>
                <div id="create-package-wrapper">
                    <button id="create-package-button" mat-button (click)="packageService.initNewPackage()">Create New Package</button>
                </div>
            </div>

            <div>
                <ul class="nav nav-fill">
                    <li *ngFor="let _package of packageArray let i = index" class="nav-item" (click)="callSetFocusPackage(i)">
                        <button mat-button [ngClass]="{'active': (packageService.package | async)?.name === _package.name}">{{_package.name}}</button>
                    </li>
                </ul>
            </div>

            <hr>

        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="package-header">
                <div *ngIf="packageService.checkIsMonthly()">
                    <strong><h4>Monthly</h4></strong>
                    <img src="./assets/icons/icon-calendar-hollow.svg" alt="">
                </div>
                <div *ngIf="!packageService.checkIsMonthly()">
                    <strong><h4>One-Time</h4></strong>
                    <img src="./assets/icons/icon-repeat-one.svg" alt="">
                </div>
            </div>

            <div class="package-list">
                <mat-list>
                    <mat-list-item *ngFor="let item of (packageService.package | async)?.packageItems">
                        <div>
                            <img class="item-icon" src="./assets/icons/icon-oval-check-hollow.svg" alt="">
                            <span >{{item.name}}</span>
                            <strong *ngIf="item.selectedSubOptions.length > 0">&nbsp;({{item.selectedSubOptions}})</strong>
                        </div>
                    </mat-list-item>
                </mat-list>
            </div>
        </div>
    </div>

    <div id="action-row-wrapper" *ngIf="(packageService.package | async) as focusPackage">
        <div class="row action-row">
            <button mat-button (click)="savePackage(focusPackage)">Save Package</button>
            <button mat-button (click)="savePackageArray(packageArray)">Save ALL Packages</button>
            <button mat-button [disabled]="!packageService.checkIsMonthly()" (click)="packageService.toggleIsMonthly()">Switch to Monthly</button>
        </div>
        <div class="row action-row">
            <button id="delete-button" mat-button>Delete</button>
        </div>
    </div>
</div>
