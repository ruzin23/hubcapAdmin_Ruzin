<div class="store-form-block">
  <div class="row">
    <div class="col-md-12">
      <mat-accordion id="store-create-accordion">
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span><strong>Create New Store</strong></span>
            </mat-panel-title>
            <mat-panel-description><div></div><mat-icon>add_circle</mat-icon></mat-panel-description>
          </mat-expansion-panel-header>

          <form [formGroup]="storeFormGroup" class="store-fields">
            <div class="row">
              <div class="col-md-12">
                <div class="store-form-header">
                  <h4>Store Info</h4>
                </div>
                <mat-form-field>
                  <input matInput placeholder="Store Name" formControlName="name">
                </mat-form-field>
              </div>
              <div class="col-md-8">
                <mat-form-field>
                  <input matInput placeholder="Address" formControlName="address">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field>
                  <input matInput placeholder="Phone Number" formControlName="phoneNumber">
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <mat-form-field>
                  <input matInput placeholder="Store Email" formControlName="email">
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field>
                  <input matInput placeholder="Website" formControlName="website">
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <mat-form-field>
                  <input matInput placeholder="City" formControlName="city">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field>
                  <input matInput placeholder="State" formControlName="state">
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field>
                  <input matInput placeholder="Zip" formControlName="zip">
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <mat-form-field>
                  <mat-label>Accepted Car Types</mat-label>
                  <mat-select multiple formControlName="vehicleType">
                    <mat-option *ngFor="let vehicleType of vehicleKeys" [value]="vehicleType">{{vehicleType}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>

            <hr>

            <div class="row">
              <div class="col-md-12">
                <div class="store-form-header">
                  <h4>Store Hours</h4>
                </div>
                <div class="hours-block" formArrayName="storeHours">
                  <div class="list-group-item" *ngFor="let day of dayKeys; let hour of storeFormGroup.controls['storeHours'].controls;
                  let i = index;"
                  formGroupName="{{i}}">
                    <div class="row">
                      <div class="col-md-4 day-checkbox-container">
                        <mat-checkbox formControlName="isOpen">{{day}}</mat-checkbox>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field>
                          <mat-label for="openTime">Open</mat-label>
                          <input matInput id="openTime" type="time" atp-time-picker formControlName="openTime">
                        </mat-form-field>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field>
                          <mat-label for="closeTime">Close</mat-label>
                          <input matInput id="closeTime" type="time" atp-time-picker formControlName="closeTime">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <hr>

            <div class="row">
              <div class="col-md-12">
                <div class="store-form-header">
                  <h4>Exceptions</h4>
                </div>
                <app-exceptions-manager [exceptions]="formExceptions"></app-exceptions-manager>
              </div>
            </div>
          </form>
          <mat-action-row>
            <button mat-raised-button color="primary" (click)="createStore()">Create Store</button>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
</div>